{"ast":null,"code":"import { Router } from '@angular/router';\nimport { ApisService } from \"../services/apis.service\";\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../services/apis.service\";\nimport * as i3 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"ng2-search-filter\";\nimport * as i7 from \"../services/orderBy.pipe\";\nfunction WithdrawalsComponent_tbody_47_td_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\")(1, \"p\", 25);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r2 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r2 == null ? null : item_r2.status);\n  }\n}\nfunction WithdrawalsComponent_tbody_47_td_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\")(1, \"p\", 26);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r2 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r2 == null ? null : item_r2.status);\n  }\n}\nfunction WithdrawalsComponent_tbody_47_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\")(1, \"tr\")(2, \"td\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(14, WithdrawalsComponent_tbody_47_td_14_Template, 3, 1, \"td\", 24);\n    i0.ɵɵtemplate(15, WithdrawalsComponent_tbody_47_td_15_Template, 3, 1, \"td\", 24);\n    i0.ɵɵelementStart(16, \"td\");\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"td\");\n    i0.ɵɵtext(19);\n    i0.ɵɵpipe(20, \"date\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const item_r2 = ctx.$implicit;\n    const i_r3 = ctx.index;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i_r3 + 1, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", item_r2.full_name, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", item_r2.source_type, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", item_r2 == null ? null : item_r2.destination_type, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", item_r2 == null ? null : item_r2.external_reference, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", item_r2 == null ? null : item_r2.amount, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (item_r2 == null ? null : item_r2.status) == \"completed\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (item_r2 == null ? null : item_r2.status) != \"completed\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", item_r2 == null ? null : item_r2.destination_currency, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(20, 10, item_r2 == null ? null : item_r2.created_at, \"medium\"), \" \");\n  }\n}\nfunction WithdrawalsComponent_app_loader_57_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-loader\");\n  }\n}\nexport let WithdrawalsComponent = /*#__PURE__*/(() => {\n  class WithdrawalsComponent {\n    constructor(router, api, modalService) {\n      this.router = router;\n      this.api = api;\n      this.modalService = modalService;\n      this.searchText2 = \"\";\n      this.loading = false;\n      this.objectData = {\n        key1: 'Value 1',\n        key2: 'Value 2',\n        key3: 'Value 3',\n        anotherKey: 'Another Value'\n      };\n      this.selectedProperty = '';\n      this.sortKey = '';\n      this.sortDirection = 1;\n      this.pageSize = 5; // Number of items per page\n      this.currentPage = 1; // Current page number\n      this.filteredProperties = [];\n    }\n    ngOnInit() {\n      this.router.routeReuseStrategy.shouldReuseRoute = function () {\n        return false;\n      };\n      this.all_withdrawals(1);\n    }\n    all_withdrawals(page) {\n      var token = localStorage.getItem(\"token\");\n      this.api.withdrawals(token, page).then(result => {\n        var results_body = result;\n        console.log(\"results\", results_body[\"data\"]);\n        this.user_list = results_body[\"data\"];\n        console.log(\"user_list\", this.user_list);\n        console.log(\"user_list\", this.user_list[0]);\n        let paginated = results_body[\"pagination\"];\n        this.totalPages = this.user_list.length;\n        console.log(\"totalPages\", this.totalPages);\n        // let paginated = this.user_list[\"pagination\"]\n        console.log(\"user_list\", this.user_list);\n        console.log(\"paginated\", paginated);\n        console.log(\"paginated\", paginated.total);\n        this.last_page = paginated.lastPage;\n        console.log(\"last_page\", this.last_page);\n        this.loading = true;\n      }).catch(error => {\n        console.log(\"Promise rejected with \" + JSON.stringify(error));\n        this.loading = true;\n      });\n    }\n    sort(key) {\n      console.log(\"SOrk Key::\", key);\n      this.sortKey = key;\n      this.sortDirection = this.sortDirection * -1;\n    }\n    filerDate(from, to) {\n      var token = localStorage.getItem(\"token\");\n      this.api.withdrawals_filter(token, from, to).then(result => {\n        var results_body = result;\n        console.log(\"results\", results_body[\"data\"]);\n        this.user_list = results_body[\"data\"];\n        console.log(\"user_list\", this.user_list);\n        console.log(\"user_list\", this.user_list[0]);\n        this.loading = true;\n      }).catch(error => {\n        console.log(\"Promise rejected with \" + JSON.stringify(error));\n        this.loading = true;\n      });\n    }\n    prevPage() {\n      if (this.currentPage > 1) {\n        this.currentPage--;\n        this.all_withdrawals(this.currentPage--);\n      }\n    }\n    nextPage() {\n      if (this.currentPage < this.last_page) {\n        this.currentPage++;\n        this.all_withdrawals(this.currentPage);\n      }\n    }\n  }\n  WithdrawalsComponent.ɵfac = function WithdrawalsComponent_Factory(t) {\n    return new (t || WithdrawalsComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.ApisService), i0.ɵɵdirectiveInject(i3.NgbModal));\n  };\n  WithdrawalsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: WithdrawalsComponent,\n    selectors: [[\"app-withdrawals\"]],\n    decls: 58,\n    vars: 16,\n    consts: [[1, \"row\"], [1, \"col-md-8\"], [1, \"input-group\", \"no-border\", \"verticc\"], [\"type\", \"text\", \"value\", \"\", \"placeholder\", \"Filter by NARRATION, Transaction Type, status...\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"input-group-append\"], [1, \"input-group-text\"], [1, \"nc-icon\", \"nc-zoom-split\"], [1, \"col-md-4\"], [1, \"form-outline\", \"mb-4\"], [\"type\", \"date\", \"placeholder\", \"Date From\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"date\", \"placeholder\", \"Date To\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"btn\", \"btn-info\", \"btn-block\", \"fa-lg\", \"gradient-custom-2\", \"mb-3\", 3, \"click\"], [1, \"col-md-12\"], [1, \"card\"], [1, \"card-header\", 2, \"display\", \"inline-flex\", \"gap\", \"50%\"], [1, \"card-title\"], [1, \"card-body\"], [1, \"table-responsive\"], [1, \"table\"], [1, \"text-primary\"], [3, \"click\"], [4, \"ngFor\", \"ngForOf\"], [1, \"pagination\"], [3, \"disabled\", \"click\"], [4, \"ngIf\"], [2, \"color\", \"rgb(36, 165, 11)\", \"font-weight\", \"900\"], [2, \"color\", \"rgb(161, 41, 5)\", \"font-weight\", \"900\"]],\n    template: function WithdrawalsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"form\")(3, \"div\", 2)(4, \"input\", 3);\n        i0.ɵɵlistener(\"ngModelChange\", function WithdrawalsComponent_Template_input_ngModelChange_4_listener($event) {\n          return ctx.searchText = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\", 4)(6, \"div\", 5);\n        i0.ɵɵelement(7, \"i\", 6);\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelementStart(8, \"div\", 7)(9, \"div\", 8)(10, \"label\");\n        i0.ɵɵtext(11, \"Choose Date period From:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"input\", 9);\n        i0.ɵɵlistener(\"ngModelChange\", function WithdrawalsComponent_Template_input_ngModelChange_12_listener($event) {\n          return ctx.from = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(13, \"div\", 8)(14, \"label\");\n        i0.ɵɵtext(15, \"Choose Date period To:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"input\", 10);\n        i0.ɵɵlistener(\"ngModelChange\", function WithdrawalsComponent_Template_input_ngModelChange_16_listener($event) {\n          return ctx.to = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(17, \"button\", 11);\n        i0.ɵɵlistener(\"click\", function WithdrawalsComponent_Template_button_click_17_listener() {\n          return ctx.filerDate(ctx.from, ctx.to);\n        });\n        i0.ɵɵtext(18, \" Filter \");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(19, \"div\", 0)(20, \"div\", 12)(21, \"div\", 13)(22, \"div\", 14)(23, \"h4\", 15);\n        i0.ɵɵtext(24, \"WITHDRAWALS\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(25, \"div\", 16)(26, \"div\", 17)(27, \"table\", 18)(28, \"thead\", 19)(29, \"th\");\n        i0.ɵɵtext(30, \" No \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"th\", 20);\n        i0.ɵɵlistener(\"click\", function WithdrawalsComponent_Template_th_click_31_listener() {\n          return ctx.sort(\"full_name\");\n        });\n        i0.ɵɵtext(32, \" NAME \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(33, \"th\", 20);\n        i0.ɵɵlistener(\"click\", function WithdrawalsComponent_Template_th_click_33_listener() {\n          return ctx.sort(\"source_type\");\n        });\n        i0.ɵɵtext(34, \" SOURCE TYPE \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(35, \"th\", 20);\n        i0.ɵɵlistener(\"click\", function WithdrawalsComponent_Template_th_click_35_listener() {\n          return ctx.sort(\"destination_type\");\n        });\n        i0.ɵɵtext(36, \" DESTINATION TYPE \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(37, \"th\");\n        i0.ɵɵtext(38, \" REFERENCE NUMBER \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(39, \"th\", 20);\n        i0.ɵɵlistener(\"click\", function WithdrawalsComponent_Template_th_click_39_listener() {\n          return ctx.sort(\"amount\");\n        });\n        i0.ɵɵtext(40, \" AMOUNT \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(41, \"th\", 20);\n        i0.ɵɵlistener(\"click\", function WithdrawalsComponent_Template_th_click_41_listener() {\n          return ctx.sort(\"status\");\n        });\n        i0.ɵɵtext(42, \" STATUS \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(43, \"th\");\n        i0.ɵɵtext(44, \" DESTINATION CURRENCY \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(45, \"th\", 20);\n        i0.ɵɵlistener(\"click\", function WithdrawalsComponent_Template_th_click_45_listener() {\n          return ctx.sort(\"created_at\");\n        });\n        i0.ɵɵtext(46, \" TRANSACTION DATE \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(47, WithdrawalsComponent_tbody_47_Template, 21, 13, \"tbody\", 21);\n        i0.ɵɵpipe(48, \"filter\");\n        i0.ɵɵpipe(49, \"orderBy\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(50, \"div\", 22)(51, \"button\", 23);\n        i0.ɵɵlistener(\"click\", function WithdrawalsComponent_Template_button_click_51_listener() {\n          return ctx.prevPage();\n        });\n        i0.ɵɵtext(52, \"Previous\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(53, \"span\");\n        i0.ɵɵtext(54);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(55, \"button\", 23);\n        i0.ɵɵlistener(\"click\", function WithdrawalsComponent_Template_button_click_55_listener() {\n          return ctx.nextPage();\n        });\n        i0.ɵɵtext(56, \"Next\");\n        i0.ɵɵelementEnd()()()()()();\n        i0.ɵɵtemplate(57, WithdrawalsComponent_app_loader_57_Template, 1, 0, \"app-loader\", 24);\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.searchText);\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngModel\", ctx.from);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.to);\n        i0.ɵɵadvance(31);\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind2(48, 9, i0.ɵɵpipeBind3(49, 12, ctx.user_list, ctx.sortKey, ctx.sortDirection), ctx.searchText));\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"disabled\", ctx.currentPage === 1);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate2(\"\", ctx.currentPage, \" / \", ctx.last_page, \"\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"disabled\", ctx.currentPage === ctx.last_page);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", !ctx.loading);\n      }\n    },\n    directives: [i4.ɵNgNoValidate, i4.NgControlStatusGroup, i4.NgForm, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgModel, i5.NgForOf, i5.NgIf],\n    pipes: [i6.Ng2SearchPipe, i7.OrderByPipe, i5.DatePipe],\n    styles: [\"\", \".spp[_ngcontent-%COMP%] {\\n        text-align: center !important;\\n        font-size: 2em;\\n        margin: 30px;\\n    }\\n\\n    .verticc[_ngcontent-%COMP%] {\\n        display: flex;\\n        margin-top: 10%;\\n        align-items: center;\\n    }\\n\\n        .pagination[_ngcontent-%COMP%] {\\n        display: flex;\\n        justify-content: center;\\n        align-items: center;\\n        margin-top: 20px;\\n    }\\n\\n    .pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n        padding: 5px 10px;\\n        border: 1px solid #ccc;\\n        background-color: #fff;\\n        cursor: pointer;\\n    }\\n\\n    .pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover {\\n        background-color: #f2f2f2;\\n    }\\n\\n    .pagination[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\\n        margin: 0 10px;\\n    }\"]\n  });\n  return WithdrawalsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}