{"ast":null,"code":"import { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { ApisService } from \"../../services/apis.service\";\nimport Swal from 'sweetalert2/dist/sweetalert2.js';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../../services/apis.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../../loader/loader.component\";\nfunction UpgradeComponent_app_loader_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-loader\");\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    \"is-invalid\": a0\n  };\n};\nexport let UpgradeComponent = /*#__PURE__*/(() => {\n  class UpgradeComponent {\n    constructor(formBuilder, route, router, api) {\n      this.formBuilder = formBuilder;\n      this.route = route;\n      this.router = router;\n      this.api = api;\n      this.loading = false;\n      this.submitted = false;\n    }\n    ngOnInit() {\n      this.form = this.formBuilder.group({\n        email: ['', Validators.required],\n        password: ['', Validators.required]\n      });\n    }\n    get f() {\n      return this.form.controls;\n    }\n    onSubmit() {\n      this.submitted = true;\n      this.loading = true;\n      this.loginVal = JSON.stringify(this.form.value);\n      console.log(\"LETS SEE THE LOGIN VAL \" + this.loginVal);\n      this.jsonBody = JSON.parse(this.loginVal);\n      console.log(\"LETS SEE THE jsonBody VAL \" + this.jsonBody);\n      // \n      this.api.login(this.jsonBody).then(result => {\n        var results_body = result;\n        console.log(\"results\", result);\n        console.log(\"REVIEW RESULTS BODY \" + results_body[\"data\"][\"token\"]);\n        var token = results_body[\"data\"][\"token\"];\n        var status = results_body[\"status\"];\n        var full_name = results_body[\"data\"][\"full_name\"];\n        var email = results_body[\"data\"][\"email\"];\n        console.log(\"token \" + token);\n        console.log(\"status \" + status);\n        console.log(\"user_data \" + full_name);\n        console.log(\"email \" + email);\n        if (status == 'SUCCESS') {\n          localStorage.setItem(\"token\", token);\n          localStorage.setItem(\"full_name\", full_name);\n          localStorage.setItem(\"email\", email);\n          console.log(\"got to dashboard\");\n          this.loading = false;\n          console.log(\"REVIEW RESULTS BODY \" + results_body[\"data\"][\"id\"]);\n          let navigationExtras = {\n            queryParams: {\n              id: results_body[\"data\"][\"id\"]\n            }\n          };\n          //    this.router.navigate(['verification'], navigationExtras);\n          this.toast();\n          this.router.navigate(['dashboard']);\n        } else {\n          console.log(\"FAILED\");\n          this.loading = false;\n        }\n        // let retrieve_patient_details = JSON.stringify(results_body);\n        // var token = results_body[\"data\"][\"token\"];\n        // localStorage.setItem(\"token\", token);\n      }).catch(error => {\n        this.loading = false;\n        console.log(\"Promise rejected with \" + JSON.stringify(error));\n        alert(\"Incorrect email or password\");\n      });\n    }\n    toast() {\n      const Toast = Swal.mixin({\n        toast: true,\n        position: 'top-end',\n        showConfirmButton: false,\n        timer: 3000,\n        timerProgressBar: true,\n        didOpen: toast => {\n          toast.addEventListener('mouseenter', Swal.stopTimer);\n          toast.addEventListener('mouseleave', Swal.resumeTimer);\n        }\n      });\n      Toast.fire({\n        icon: 'success',\n        title: 'Signed in successfully'\n      });\n    }\n  }\n  UpgradeComponent.ɵfac = function UpgradeComponent_Factory(t) {\n    return new (t || UpgradeComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.ApisService));\n  };\n  UpgradeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: UpgradeComponent,\n    selectors: [[\"upgrade-cmp\"]],\n    decls: 29,\n    vars: 9,\n    consts: [[1, \"h-100\", \"gradient-form\", 2, \"background-color\", \"#eee\"], [1, \"container\", \"py-5\", \"h-100\"], [1, \"row\", \"d-flex\", \"justify-content-center\", \"align-items-center\", \"h-100\"], [1, \"col-xl-10\"], [1, \"card\", \"rounded-3\", \"text-black\"], [1, \"row\", \"g-0\"], [1, \"col-lg-6\"], [1, \"card-body\", \"p-md-5\", \"mx-md-4\"], [1, \"text-center\"], [\"src\", \"assets/img/show.png\", \"alt\", \"logo\", 2, \"width\", \"185px\"], [1, \"mt-1\", \"mb-5\", \"pb-1\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"form-outline\", \"mb-4\"], [\"type\", \"email\", \"formControlName\", \"email\", \"placeholder\", \"Email\", 1, \"form-control\", 3, \"ngClass\"], [\"type\", \"password\", \"formControlName\", \"password\", \"placeholder\", \"Password\", 1, \"form-control\", 3, \"ngClass\"], [1, \"text-center\", \"pt-1\", \"mb-5\", \"pb-1\"], [1, \"btn\", \"btn-primary\", \"btn-block\", \"fa-lg\", \"gradient-custom-2\", \"mb-3\", 3, \"disabled\"], [1, \"col-lg-6\", \"d-flex\", \"align-items-center\", \"gradient-custom-2\"], [1, \"text-white\", \"px-3\", \"py-4\", \"p-md-5\", \"mx-md-4\"], [1, \"mb-4\"], [1, \"small\", \"mb-0\"], [4, \"ngIf\"]],\n    template: function UpgradeComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"section\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"div\", 5)(6, \"div\", 6)(7, \"div\", 7)(8, \"div\", 8);\n        i0.ɵɵelement(9, \"img\", 9);\n        i0.ɵɵelementStart(10, \"h4\", 10);\n        i0.ɵɵtext(11, \"We are The ShowOut Team\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(12, \"form\", 11);\n        i0.ɵɵlistener(\"ngSubmit\", function UpgradeComponent_Template_form_ngSubmit_12_listener() {\n          return ctx.onSubmit();\n        });\n        i0.ɵɵelementStart(13, \"p\");\n        i0.ɵɵtext(14, \"Please login to your account\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"div\", 12);\n        i0.ɵɵelement(16, \"input\", 13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"div\", 12);\n        i0.ɵɵelement(18, \"input\", 14);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"div\", 15)(20, \"button\", 16);\n        i0.ɵɵtext(21, \" Login \");\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelementStart(22, \"div\", 17)(23, \"div\", 18)(24, \"h4\", 19);\n        i0.ɵɵtext(25, \"Refining how you consume music\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"p\", 20);\n        i0.ɵɵtext(27, \"Make money whiles enjoying music with no third parties. Get all your favorite music organized at one place with algorithms to serve you based on your mood.\");\n        i0.ɵɵelementEnd()()()()()()()()();\n        i0.ɵɵtemplate(28, UpgradeComponent_app_loader_28_Template, 1, 0, \"app-loader\", 21);\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(12);\n        i0.ɵɵproperty(\"formGroup\", ctx.form);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(5, _c0, ctx.submitted && ctx.f.email.errors));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(7, _c0, ctx.submitted && ctx.f.password.errors));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"disabled\", ctx.loading);\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngIf\", ctx.loading);\n      }\n    },\n    directives: [i1.ɵNgNoValidate, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.DefaultValueAccessor, i1.NgControlStatus, i1.FormControlName, i4.NgClass, i4.NgIf, i5.LoaderComponent],\n    styles: [\".gradient-custom-2[_ngcontent-%COMP%] {\\n\\nbackground: #fccb90;\\n\\n\\nbackground: -webkit-linear-gradient(to right, #ee7724, #bb2028, #bb2028, #bb2028);\\n\\n\\nbackground: linear-gradient(to right, #ee7724, #bb2028, #bb2028, #bb2028);\\n}\\n\\n@media (min-width: 768px) {\\n.gradient-form[_ngcontent-%COMP%] {\\nheight: 100vh !important;\\n}\\n}\\n@media (min-width: 769px) {\\n.gradient-custom-2[_ngcontent-%COMP%] {\\nborder-top-right-radius: .3rem;\\nborder-bottom-right-radius: .3rem;\\n}\\n}\\n\\n.content[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  width:100%;\\n  height:100%;\\n}\\n.loader-wrapper[_ngcontent-%COMP%] {\\n  width: 100%;\\n  height: 100%;\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  background-color: #ffffffe8;\\n  display:flex;\\n  justify-content: center;\\n  align-items: center;\\n}\\n.loader[_ngcontent-%COMP%] {\\n  display: inline-block;\\n  width: 100px;\\n  height: 100px;\\n  position: relative;\\n  \\n  animation: loader 2s infinite ease;\\n}\\n.loader-inner[_ngcontent-%COMP%] {\\n  vertical-align: top;\\n  display: inline-block;\\n  width: 100%;\\n  background-color: #fff;\\n  animation: loader-inner 2s infinite ease-in;\\n}\\n\\n@keyframes loader {\\n  0% { transform: rotate(0deg);}\\n  25% { transform: rotate(90deg);}\\n  50% { transform: rotate(180deg);}\\n  75% { transform: rotate(270deg);}\\n  100% { transform: rotate(360deg);}\\n\\n  \\n}\\n\\n@keyframes loader-inner {\\n  0% { height: 0%;}\\n  25% { height: 0%;}\\n  50% { height: 100%;}\\n  75% { height: 100%;}\\n  100% { height: 0%;}\\n}\"]\n  });\n  return UpgradeComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}